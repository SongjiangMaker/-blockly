# 第五章 循环结构
在这里，我们将介绍一个新游戏--Pond Tutor
<center><img src="/assets/p102.png"/></center>
在Pond Tutor(https://blockly-games.appspot.com/pond-tutor)这个游戏中，我们将扮演黄色的鸭子，通过不断的发炮弹去攻击红色的鸭子，当红色的鸭子血条减为0时则玩家获胜。<br>
在这个游戏中为我们提供了四个功能模块：<br>
Swim模块：向给定方向游动；<br>
Scan模块：向给定方向扫描，扫描到敌方时返回二者相距的距离；<br>
Cannon模块：向给定方向和距离发射炮弹；<br>
Stop模块：配合swim模块，使我方停止。<br>
通过结合这几个模块，我们可以想到：首先我们需要朝敌方游动，同时不断的进行扫描；当扫描到敌方时，我们应该停止，同时用扫描到的距离设定炮口的攻击距离。<br>
这里唯一的问题是如何重复不断的进行扫描，所以也就牵出了我们接下来要讲的问题--循环。
<center><img src="/assets/p103.png"/></center>
<center><img src="/assets/p104.png"/></center>

&emsp;循环是一种基本的程序结构，凡是需要通过不断重复执行才能得到答案的许多问题中需要用到循环控制。循环结构是结构化程序设计的基本结构之一，它和顺序结构、选择结构共同作为各种复杂程序的基本构造单元。因此熟练掌握选择结构和循环结构的概念及使用是程序设计的最基本的要求。本章将介绍四种形式的循环，都是程序中基本的用于表示重复动作的结构。在本章学习结束后，学生应当具备的能力有：分析一个循环的重复执行次数和终止条件，并能在自己的程序中应用到重复次数,重复,步长,列表循环循环。
## 5.1 基本概念
<strong>迭代</strong>:通过包括重复序列允许通过一个简短的程序来代替一系列的重复的步骤程序中重复执行的一段指令叫做<strong>循环</strong>。<br>
每一个循环由两部分组成:<br>
&emsp;条件： 控制循环重复次数
&emsp;循环体： 循环执行时始终运行的代码段。
&emsp;我们称一个无休止运行的程序为死循环，下图所示的就是一个典型的死循环块。死循环将会阻止一个程序完成其执行，所以含有死循环的程序通常是不可取的。 在浏览器内，一个死循环甚至可以导致程序对鼠标点击失去响应或无限输出对话框，因此要避免出现死循环，控制循环执行次数的程序必须编写正确。
<center><img src="/assets/p105.png"/></center>

## 5.2 重复次数模块
&emsp;重复次数模块用来实现计数循环，通过在模块中修改次数来规定重复执行的次数。
<center><img src="/assets/p106.png"/></center>

例如我们要循环三次输出“Hello World”，则只要在重复次数模块的数字块中写入“3”即可。
<center><img src="/assets/p107.png"/></center>

## 5.3 重复模块
重复模块中包含了两种不同类型的循环模式：重复-当和重复-直到。
<center><img src="/assets/p108.png"/></center>
<center><img src="/assets/p109.png"/></center>

重复-当模块用来实现“当型”循环结构，只要程序的执行条件为真，就会重复执行语句的一系列程序。在未运行前，实际的重复次数是未知的。
<center><img src="/assets/p110.png"/></center>

&emsp;它需要与逻辑语句组合使用，当条件满足时它将重复不断的执行直到条件不满足，所以可能出现的情况是：由于一个逻辑错误，循环将相应代码段重复运行无数次，这对初学者来说是很常见的。<br>
&emsp;当检查一个循环条件时循环将会执行。如果循环条件为真，将执行循环体中的代码并重复执行这些步骤，在每次循环前将额外检查循环条件。条件为假时退出循环。<br>
&emsp;循环程序都包涵了三个内容：<br>
&emsp;*一个清晰的起始条件<br>
&emsp;*一个循环条件，指示程序是否应该继续执行循环部分<br>
&emsp;*一个条件改变最终导致循环条件变为假。<br>
&emsp;例如，我们使用重复-当模块来实现一个非常常见的问题：从1一直加到100。对于这问题同学们一定不陌生，甚至能有多种不同的技巧去解这个问题。但在这里，我们使用循环就可以用最笨的方法：从1一个一个的加起来，一直加到100。
<center><img src="/assets/p111.png"/></center>

&emsp;而对于重复-直到这个模块来说则与重复-当模块刚好相反：它是当条件满足时就结束循环。
<center><img src="/assets/p112.png"/></center>

&emsp;所以同样针对上面从1加到100的例子，我们只需要将条件i<=100改为i>100即可。
<center><img src="/assets/p113.png"/></center>

